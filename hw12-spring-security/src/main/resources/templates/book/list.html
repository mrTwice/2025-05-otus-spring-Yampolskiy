<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Книги</title></head>
<body>
<div th:insert="~{fragments/nav :: topnav}"></div>
<h1>Список книг</h1>
<p><a th:href="@{/books/new}">Добавить книгу</a></p>

<table>
    <thead>
    <tr><th>ID</th><th>Название</th><th>Автор</th><th>Жанры</th><th>Действия</th></tr>
    </thead>
    <tbody>
    <tr th:each="b : ${books}">
        <td th:text="${b.id}">1</td>
        <td><a th:href="@{|/books/${b.id}|}" th:text="${b.title}">Title</a></td>
        <td th:text="${b.authorFullName}">Author</td>
        <td th:text="${b.genresSummary}">Genres</td>
        <td>
            <a th:href="@{|/books/${b.id}/edit|}">Редактировать</a>
            <form th:action="@{|/books/${b.id}/delete|}" method="post" style="display:inline">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit">Удалить</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>
